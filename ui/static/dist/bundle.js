!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function o(t){let e=document.getElementById("mandatoryFieldsNotFilledAlert");"show"===t?e.style.display="block":"hide"===t&&(e.style.display="none")}function r(t){let e=document.getElementById("backendServiceErrorAlert");"show"===t?e.style.display="block":"hide"===t&&(e.style.display="none")}function l(t){!function(t){let e=document.getElementById("backendServiceErrorAlert");e.innerHTML=`Backend service error: ${t}`,e.style.display="block"}(t),r("show")}function c(t){!function(t){let e=document.getElementById("loadDocumentationErrorAlert");e.innerHTML=`Load Documentation error: ${t}`,e.style.display="block"}(t),function(t){let e=document.getElementById("loadDocumentationErrorAlert");"show"===t?e.style.display="block":"hide"===t&&(e.style.display="none")}("show")}function a(t){var e;e=t,document.getElementById("mandatoryFieldsNotFilledAlert").innerHTML=`Mandatory fields not filled: ${e}`,o("show")}n.r(e);const i=[{componentId:"stringsToMatch",componentNameForAlertMessage:'"strings to match" textarea'},{componentId:"stringsToMatchIn",componentNameForAlertMessage:'"strings to match in" textarea'}];function s(){let t=[];return i.map(e=>{!1===function(t){return!(0===document.getElementById(t).value.length)}(e.componentId)&&t.push(e.componentNameForAlertMessage)}),t}const d="http://localhost:8080/api/v1/requests/",u="http://localhost:8080/api_documentation.md";function m(t){let e="",n=document.getElementById("resultsTableBody");for(let n=0;n<t.length;n++){e+=`<tr>\n                        <td>${t[n].StringToMatch}</td>\n                        <td>${t[n].StringMatched}</td>\n                        <td>${t[n].Result}</td>\n                    </tr>`}n.innerHTML+=e}async function y(t){let e=await async function(t){const e=await fetch(`${d}${t}/`,{headers:{"content-type":"application/json; charset=UTF-8"},method:"GET"});if(e.ok)return await e.json();throw{type:"Error",message:e.statusText,data:e.url,code:e.status}}(t);!0===e.ReturnedAllRows?m(e.Results):(m(e.Results),await y(t))}function f(t){document.getElementById(t).value=""}function h(t){let e=[],n=document.querySelectorAll("table tr");for(let t=0;t<n.length;t++){let o=[],r=n[t].querySelectorAll("td, th");for(let t=0;t<r.length;t++)o.push(r[t].innerText);e.push(o.join(","))}!function(t,e){let n,o;n=new Blob([t],{type:"text/csv"}),(o=document.createElement("a")).download=e,o.href=window.URL.createObjectURL(n),o.style.display="none",document.body.appendChild(o),o.click()}(e.join("\n"),t)}function g(){document.getElementById("resultsTableBody").innerHTML=""}function p(t){let e=document.getElementById("submitButton"),n=document.getElementById("submitButtonSpinner");"show"===t?(e.disabled=!1,n.style.display="none"):"hide"===t&&(e.disabled=!0,n.style.display="block")}function E(){(async function(){let t=null;try{t=await async function(){const t=await fetch(u);if(t.ok)return await t.text();throw{type:"Error",message:t.statusText,data:t.url,code:t.status}}().then()}catch(t){return void c(JSON.stringify(t))}let e=(n=t,(new showdown.Converter).makeHtml(n));var n,o;o=e,document.getElementById("apiDocumentationDiv").innerHTML=o})().catch()}window.addEventListener("load",t=>{E()}),document.getElementById("submitButton").addEventListener("click",function(){(async function(){o("hide"),r("hide"),p("show");let t=function(){let t=s();return t.length>0?t:[]}();if(t.length>0)return void a(t);let e=null;try{e=(await async function(){const t=document.getElementById("stringsToMatch").value,e=document.getElementById("stringsToMatchIn").value,n=document.getElementById("mode").value,o={headers:{"content-type":"application/json; charset=UTF-8"},body:JSON.stringify({stringsToMatch:t,stringsToMatchIn:e,mode:n}),method:"POST"},r=await fetch(d,o);if(r.ok)return await r.json();throw{type:"Error",message:r.statusText,data:r.url,code:r.status}}()).RequestID}catch(t){return l(JSON.stringify(t)),void p("show")}p("hide"),g();try{await y(e)}catch(t){return void l(JSON.stringify(t))}var n;document.getElementById("resultsDiv").style.display="block",p("show"),n="results",window.location.href=`#${n}`})().catch()}),document.getElementById("clearStringsToMatchTextarea").addEventListener("click",function(){f("stringsToMatch")}),document.getElementById("clearStringsToMatchInTextarea").addEventListener("click",function(){f("stringsToMatchIn")}),document.getElementById("rangeInput").addEventListener("change",function(){let t,e,n,o,r,l;for(t=document.getElementById("rangeInput").value,n=(e=document.getElementById("resultsTable")).getElementsByTagName("tr"),r=0;r<n.length;r++)(o=n[r].getElementsByTagName("td")[2])&&(l=o.textContent||o.innerText,n[r].style.display=+l>=+t?"":"none")}),document.getElementById("copyResultsTableToClipboardButton").addEventListener("click",function(){!function(){let t=new ClipboardJS(".btn");t.on("success",function(t){t.clearSelection()}),t.on("error",function(t){})}()}),document.getElementById("downloadResultsTableAsCsvButton").addEventListener("click",function(){h("fuzzy_match_results.csv")}),document.getElementById("clearResultsTableButton").addEventListener("click",function(){g()})}]);